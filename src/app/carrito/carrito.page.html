<ion-header>
  <ion-toolbar color = "primary">
    <ion-segment value = "favorites">
      <ion-segment-button value="all" (click) = "goToDisponibles()" >
          Disponibles
      </ion-segment-button>
      <ion-segment-button  value="favorites">
        Carrito
      </ion-segment-button>
    </ion-segment>

    <!-- <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons> -->
    <!-- <ion-title>carrito</ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor= "let prod of carrito" lines = "insert">
      <ion-thumbnail  slot = "start">
        <img style = "border-radius: 20px;" [src]="prod.foto" alt="fotodetalle">
      </ion-thumbnail>
      {{prod.cantidad}} x {{prod.nombre}} - ${{prod.precio}} = ${{prod.cantidad * prod.precio}}
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button color = "danger" (click) = "quitar(prod)">
              <ion-icon name="trash-bin-outline"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    Total: <span>${{getTotal()}}</span>
  </ion-list>
  <div class = "center">
    <ion-row>
      <ion-col id = "b"  size = "6"> <ion-button id = "open-modal" color = "success">Confirmar</ion-button></ion-col>
      <ion-col id = "b" size = "6"> <ion-button id = "p" [routerLink] = "[('/')]" (click) = "remover()">Eliminar</ion-button></ion-col>
    </ion-row>
  </div>

  <ion-modal #modal trigger="open-modal">
    <ng-template>
      <ion-content>
        <ion-toolbar>
          <ion-title>Carrito</ion-title>
        </ion-toolbar>
        <ion-list *ngFor= "let prod of carrito">
          <ion-item>
            <ion-avatar slot="start">
              <ion-img [src]="prod.foto"></ion-img>
            </ion-avatar>
            <ion-label>
              <h2>{{prod.nombre}}</h2>
              <p>${{prod.precio}} x {{prod.cantidad}}</p>
            </ion-label>
          </ion-item>
        </ion-list>
        <ion-item>
          <h3>Total: <span>${{getTotal()}}</span></h3>
        </ion-item>
        <ion-grid>
          <ion-row>
            <ion-col style = "justify-content: center;
            align-items: center;
            left: 1cm;">
            <ion-button id = "b" class = "glow-on-hover" *ngIf = "getTotal() != 0" color = "success" (click) = "checkout()">
              <ion-icon name = "logo-whatsapp"></ion-icon>
            </ion-button></ion-col>
          </ion-row>
        </ion-grid>
          <ion-note>
            <p style = "text-align:center;"> presiona fuera de la ventana modal para salir</p>
          </ion-note>
      </ion-content>
    </ng-template>
  </ion-modal>


</ion-content>
